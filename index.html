<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø§Ø¯Ø© (50 Ø¯Ù‚ÙŠÙ‚Ø©)</title>
<style>
  :root{--main:#0b79d0;--ok:#1b9a3b;--bad:#d9534f}
  body{font-family:Arial, sans-serif;direction:rtl;text-align:right;background:#f5f7fa;margin:0;padding:18px}
  .wrap{max-width:1000px;margin:0 auto;background:#fff;padding:20px;border-radius:10px;box-shadow:0 6px 20px rgba(10,20,30,0.06)}
  h1{margin:0 0 6px;color:var(--main)}
  .small{color:#555;font-size:14px}
  label{display:block;margin-bottom:6px}
  input[type="text"],select{padding:10px;width:100%;box-sizing:border-box;border-radius:6px;border:1px solid #ccc}
  .btn{display:inline-block;padding:10px 14px;border-radius:8px;background:var(--main);color:#fff;border:none;cursor:pointer}
  .btn.warn{background:#ff7043}
  .timer{font-weight:700;margin:10px 0;font-size:18px}
  .q{margin:14px 0;padding:12px;border-radius:8px;border:1px solid #eef3f8;background:#fff}
  .choices label{display:block;margin:8px 0;cursor:pointer}
  .hidden{display:none}
  .result{margin-top:12px;padding:12px;border-radius:8px;background:#fbfdfe}
  .correct{color:var(--ok);font-weight:700}
  .wrong{color:var(--bad);font-weight:700}
  .key-row{padding:8px;border-bottom:1px solid #f1f3f6}
  .actions{margin-top:12px}
  .download-btn{background:#00a86b;margin-left:8px}
  footer{margin-top:14px;color:#888;font-size:13px}
</style>
</head>
<body>
  <div class="wrap">
    <!-- Page 1: student data -->
    <div id="page-student">
      <h1>ğŸ“ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h1>
      <p class="small">Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙˆØ§Ø®ØªØ± Ø§Ù„Ø´Ø¹Ø¨Ø© Ø«Ù… Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±". Ø³ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª (50 Ø¯Ù‚ÙŠÙ‚Ø©) Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·.</p>
      <div style="margin-top:12px">
        <label>Ø§Ù„Ø§Ø³Ù…:</label>
        <input id="student-name" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù„ÙŠ">
      </div>
      <div style="margin-top:12px">
        <label>Ø§Ù„Ø´Ø¹Ø¨Ø©:</label>
        <select id="student-class">
          <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø´Ø¹Ø¨Ø©</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option>
        </select>
      </div>
      <div style="margin-top:14px">
        <button id="start-btn" class="btn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
      </div>
    </div>

    <!-- Page 2: quiz -->
    <div id="page-quiz" class="hidden">
      <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ø£ÙˆÙ„ Ø«Ø§Ù†ÙˆÙŠ</h1>
      <p class="small">Ø§Ù„Ø¨Ø§Ø¨ Ø§Ù„Ø®Ø§Ù…Ø³: Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø§Ø¯Ø© â€” Ø§Ù„ÙƒØªÙ„Ø© ÙˆØ§Ù„Ù…ÙˆÙ„</p>
      <div class="timer">â° Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="time">50:00</span></div>
      <div id="quiz"></div>
      <div class="actions">
        <button id="submit" class="btn">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
        <button id="finish-early" class="btn warn">Ø¥Ù†Ù‡Ø§Ø¡ Ø³Ø±ÙŠØ¹</button>
      </div>
    </div>

    <!-- Page 3: result -->
    <div id="page-result" class="hidden">
      <h1>ğŸ“Š Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h1>
      <div id="student-info" class="small"></div>
      <div id="score" class="result"></div>
      <div id="details" style="margin-top:12px;border-radius:8px;background:#fbfdfe;padding:8px"></div>
      <div style="margin-top:12px">
        <button id="retry" class="btn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
        <button id="download" class="btn download-btn">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø© (JSON)</button>
      </div>
    </div>

    <footer>Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙˆØ¹Ù„Ù‰ GitHub Pages. Ø§Ù„Ø£ØµÙˆØ§Øª Ø®ÙÙŠÙØ© ÙˆÙ…Ø¶Ù…Ù‘Ù†Ø©.</footer>
  </div>

<script>
/* ------------------ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (30 Ø³Ø¤Ø§Ù„) ------------------ */
const quizData = [
{"q":"Ù…Ø§ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠ Ù‚ÙŠØ§Ø³ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©ØŸ","choices":["Ø§Ù„Ø¬Ø±Ø§Ù…","Ø§Ù„ÙƒÙŠÙ„ÙˆØºØ±Ø§Ù…","Ø¬Ø±Ø§Ù…/Ù…ÙˆÙ„","Ù„ØªØ±"],"ans":2},
{"q":"Ù…Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª ÙÙŠ Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ","choices":["Ø¹Ø¯Ø¯ Ø£ÙÙˆØ¬Ø§Ø¯Ø±Ùˆ","Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø°Ø±ÙŠØ©","Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆÙ„ÙŠ","Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø°Ø±ÙŠ"],"ans":0},
{"q":"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠÙ…Ø«Ù„ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„ØºØ§Ø² Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† (COâ‚‚)ØŸ","choices":["28 Ø¬Ù…/Ù…ÙˆÙ„","44 Ø¬Ù…/Ù…ÙˆÙ„","32 Ø¬Ù…/Ù…ÙˆÙ„","16 Ø¬Ù…/Ù…ÙˆÙ„"],"ans":1},
{"q":"ÙƒÙ… ØªØ³Ø§ÙˆÙŠ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… (NaCl)ØŸ","choices":["35.5 Ø¬Ù…/Ù…ÙˆÙ„","58.5 Ø¬Ù…/Ù…ÙˆÙ„","23 Ø¬Ù…/Ù…ÙˆÙ„","12.5 Ø¬Ù…/Ù…ÙˆÙ„"],"ans":1},
{"q":"Ø¹Ø¯Ø¯ Ø£ÙÙˆØ¬Ø§Ø¯Ø±Ùˆ ÙŠØ³Ø§ÙˆÙŠ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§:","choices":["6.02 Ã— 10Â²Â³","3.01 Ã— 10Â²Â²","1.6 Ã— 10â»Â¹â¹","9.8 Ã— 10â¸"],"ans":0},
{"q":"Ø¹Ù†Ø¯ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø°Ø±Ø§Øª ÙÙŠ Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„ÙƒØ¨Ø±ÙŠØª ÙˆÙ…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù†Ø­Ø§Ø³ ÙØ¥Ù†:","choices":["Ø¹Ø¯Ø¯ Ø°Ø±Ø§Øª Ø§Ù„Ù†Ø­Ø§Ø³ Ø£ÙƒØ«Ø±","Ø¹Ø¯Ø¯ Ø°Ø±Ø§Øª Ø§Ù„ÙƒØ¨Ø±ÙŠØª Ø£ÙƒØ«Ø±","Ø¹Ø¯Ø¯ Ø§Ù„Ø°Ø±Ø§Øª Ù…ØªØ³Ø§ÙˆÙŠ"],"ans":2},
{"q":"Ø¥Ø°Ø§ Ø§Ø­ØªÙˆØª Ø¹ÙŠÙ†Ø© Ø¹Ù„Ù‰ 0.5 Ù…ÙˆÙ„ Ù…Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯ (Fe)ØŒ ÙÙƒÙ… Ø¹Ø¯Ø¯ Ø°Ø±Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙÙŠÙ‡Ø§ØŸ","choices":["3.01 Ã— 10Â²Â³","6.02 Ã— 10Â²Â³","1.5 Ã— 10Â²â´","9.02 Ã— 10Â²Â²"],"ans":0},
{"q":"Ù…Ø§ Ø§Ù„ÙƒØªÙ„Ø© Ø¨Ø§Ù„Ø¬Ø±Ø§Ù… Ù„Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ","choices":["Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©","Ø¹Ø¯Ø¯ Ø£ÙÙˆØ¬Ø§Ø¯Ø±Ùˆ","Ø§Ù„ÙƒØ«Ø§ÙØ©","Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆÙ„ÙŠ"],"ans":0},
{"q":"ÙƒÙ… Ù…ÙˆÙ„Ù‹Ø§ Ù…Ù† Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ… ÙÙŠ 5.75Ã—10Â²â´ Ø°Ø±Ø© Ù…Ù† AlØŸ","choices":["9.5 Ù…ÙˆÙ„","0.1 Ù…ÙˆÙ„","5.5 Ù…ÙˆÙ„","0.95 Ù…ÙˆÙ„"],"ans":0},
{"q":"Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¨ÙŠÙ† Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù†Ø­Ø§Ø³ ÙˆÙ…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„ÙƒØ¨Ø±ÙŠØªØŒ ÙØ¥Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ø°Ø±Ø§Øª:","choices":["ÙŠØ²Ø¯Ø§Ø¯","ÙŠÙ‚Ù„","ÙŠØ¨Ù‚Ù‰ Ù…ØªØ³Ø§ÙˆÙŠÙ‹Ø§"],"ans":2},
{"q":"Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ø§Ù„Ù…ÙˆÙ„ØŸ","choices":["ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„ÙƒØªÙ„Ø© ÙÙ‚Ø·","ÙƒÙ…ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙÙˆØ¬Ø§Ø¯Ø±Ùˆ Ù…Ù† Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª","Ø­Ø¬Ù… Ø§Ù„ØºØ§Ø² Ø¹Ù†Ø¯ Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠØ©","Ù†Ø³Ø¨Ø© Ø§Ù„ÙƒØªÙ„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¬Ù…"],"ans":1},
{"q":"Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø°Ø±ÙŠØ© Ù„Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† = 16. Ù…Ø§ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„Ù„Ù…Ø§Ø¡ (Hâ‚‚O)ØŸ","choices":["18 Ø¬Ù…/Ù…ÙˆÙ„","18 Ø¬Ù…/Ù…ÙˆÙ„","20 Ø¬Ù…/Ù…ÙˆÙ„","14 Ø¬Ù…/Ù…ÙˆÙ„"],"ans":0},
{"q":"Ù…Ø§ Ø¹Ø¯Ø¯ Ø°Ø±Ø§Øª Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙÙŠ 5 Ù…ÙˆÙ„Ø§Øª Ù…Ù† Hâ‚‚OØŸ","choices":["5","10","25","15"],"ans":1},
{"q":"Ø§Ù„Ù…Ø±ÙƒØ¨ Ø§Ù„Ø°ÙŠ ÙƒØªÙ„ØªÙ‡ Ø§Ù„Ù…ÙˆÙ„ÙŠØ© ØªØ³Ø§ÙˆÙŠ 60 Ø¬Ù…/Ù…ÙˆÙ„ Ù‡Ùˆ:","choices":["CHâ‚„","Câ‚‚Hâ‚†","CHâ‚ƒCOOH","COâ‚‚"],"ans":2},
{"q":"Ù…Ø§ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙŠ ÙŠÙÙ‚Ø§Ø³ Ø¨Ù‡Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§ØªØŸ","choices":["Ø§Ù„Ø¬Ø±Ø§Ù…","Ø§Ù„Ù…ÙˆÙ„","Ø§Ù„Ø°Ø±Ø©","Ø§Ù„Ø²ÙˆØ¬"],"ans":1},
{"q":"Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©ØŸ","choices":["Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª ÙÙŠ Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯","ÙƒØªÙ„Ø© Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ø§Ù„Ø¬Ø±Ø§Ù…","Ø­Ø¬Ù… Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„ØºØ§Ø²","Ø§Ù„Ù†Ø³Ø¨Ø© Ø¨ÙŠÙ† Ø§Ù„ÙƒØªÙ„Ø© ÙˆØ§Ù„Ø­Ø¬Ù…"],"ans":1},
{"q":"Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…ÙˆÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 6.02Ã—10Â²Â³ Ø°Ø±Ø©ØŒ ÙÙƒÙ… Ø°Ø±Ø© ÙÙŠ 2 Ù…ÙˆÙ„ØŸ","choices":["1.204Ã—10Â²â´","3.01Ã—10Â²Â³","6.02Ã—10Â²Â²","2.01Ã—10Â²Â³"],"ans":0},
{"q":"Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„ÙƒØªÙ„Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§ØªØŸ","choices":["Ø·Ø±Ø¯ÙŠØ©","Ø¹ÙƒØ³ÙŠØ©","Ø«Ø§Ø¨ØªØ©","Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø©"],"ans":0},
{"q":"ÙƒÙ… ÙƒØªÙ„Ø© Ù…ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† (C)ØŸ","choices":["12 Ø¬Ù…","16 Ø¬Ù…","14 Ø¬Ù…","1 Ø¬Ù…"],"ans":0},
{"q":"Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ 3 Ù…ÙˆÙ„ Ù…Ù† NaClØŒ ÙÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª ÙÙŠÙ‡ØŸ","choices":["1.806Ã—10Â²â´","6.02Ã—10Â²Â³","3.01Ã—10Â²Â³","9.8Ã—10Â²Â²"],"ans":0},
{"q":"Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø°Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ","choices":["Ù…ØªÙˆØ³Ø· ÙƒØªÙ„ Ù†Ø¸Ø§Ø¦Ø± Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø°Ø±Ø© Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†-12","Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„ÙƒÙ„ÙŠØ© Ù„Ù„Ø¹Ù†Ø§ØµØ±","ÙƒØªÙ„Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§Øª ÙÙ‚Ø·","ÙˆØ²Ù† Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©"],"ans":0},
{"q":"Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„Ù€NaOH ØªØ³Ø§ÙˆÙŠ 40 Ø¬Ù…/Ù…ÙˆÙ„ØŒ ÙÙƒÙ… ÙƒØªÙ„Ø© 0.5 Ù…ÙˆÙ„ Ù…Ù†Ù‡ØŸ","choices":["20 Ø¬Ù…","40 Ø¬Ù…","10 Ø¬Ù…","80 Ø¬Ù…"],"ans":0},
{"q":"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„ÙƒØªÙ„Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§ØªØŸ","choices":["Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª","Ø§Ù„ÙƒØ«Ø§ÙØ©","Ø§Ù„Ø­Ø¬Ù…","Ø§Ù„Ø·Ø§Ù‚Ø©"],"ans":0},
{"q":"Ù…Ø§ Ø­Ø¬Ù… Ø§Ù„ØºØ§Ø² Ø¹Ù†Ø¯ Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠØ© Ù„ÙƒÙ„ Ù…ÙˆÙ„ØŸ","choices":["22.4 Ù„ØªØ±","18 Ù„ØªØ±","12 Ù„ØªØ±","6 Ù„ØªØ±"],"ans":0},
{"q":"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª Ø¹Ù†Ø¯Ù…Ø§ ØªØªØ¶Ø§Ø¹Ù Ø§Ù„ÙƒØªÙ„Ø©ØŸ","choices":["ÙŠØªØ¶Ø§Ø¹Ù","ÙŠÙ‚Ù„ Ù„Ù„Ù†ØµÙ","ÙŠØ¨Ù‚Ù‰ Ø«Ø§Ø¨Øª","ÙŠÙ†Ø¹Ø¯Ù…"],"ans":0},
{"q":"Ù…Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª ÙÙŠ 12 Ø¬Ù… Ù…Ù† Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† (C)ØŸ","choices":["1 Ù…ÙˆÙ„","2 Ù…ÙˆÙ„","0.5 Ù…ÙˆÙ„","6 Ù…ÙˆÙ„"],"ans":0},
{"q":"Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„Ù„Ù…Ø§Ø¡ (Hâ‚‚O) ØªØ³Ø§ÙˆÙŠ:","choices":["18 Ø¬Ù…/Ù…ÙˆÙ„","20 Ø¬Ù…/Ù…ÙˆÙ„","14 Ø¬Ù…/Ù…ÙˆÙ„","10 Ø¬Ù…/Ù…ÙˆÙ„"],"ans":0},
{"q":"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠÙ…Ø«Ù„ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ","choices":["Ø§Ù„Ù…ÙˆÙ„","Ø§Ù„Ø¬Ø±Ø§Ù…","Ø§Ù„ÙƒØ«Ø§ÙØ©","Ø§Ù„Ø­Ø¬Ù…"],"ans":0},
{"q":"Ø¹Ù†Ø¯ Ø§Ø­ØªØ±Ø§Ù‚ 2 Ù…ÙˆÙ„ Ù…Ù† Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Ù…Ø¹ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† ÙŠÙ†ØªØ¬:","choices":["2 Ù…ÙˆÙ„ Ù…Ø§Ø¡","1 Ù…ÙˆÙ„ Ù…Ø§Ø¡","4 Ù…ÙˆÙ„ Ù…Ø§Ø¡","Ù„Ø§ Ø´ÙŠØ¡"],"ans":0},
{"q":"Ø£ÙŠ Ù…Ù† Ø§Ù„Ø¢ØªÙŠ ÙŠÙ…Ø«Ù„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…ÙˆÙ„Ø§Øª ÙˆØ§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©ØŸ","choices":["Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª = Ø§Ù„ÙƒØªÙ„Ø© Ã· Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©","Ø§Ù„ÙƒØªÙ„Ø© = Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª Ã· Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ©","Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© = Ø§Ù„ÙƒØªÙ„Ø© Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø§Øª","Ø¬Ù…ÙŠØ¹ Ù…Ø§ Ø³Ø¨Ù‚"],"ans":0}
];
/* ------------------ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙˆØª (Ù…Ø¶Ù…Ù‘Ù†: Ù†ØºÙ…Ø§Øª Ø®ÙÙŠÙØ©) ------------------ */
let audioCtx = null;
function ensureAudioCtx(){
  if(!audioCtx){
    try { audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
    catch(e){ audioCtx = null; }
  }
}
function playLightTone(type){
  ensureAudioCtx();
  if(!audioCtx) return;
  const now = audioCtx.currentTime;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = 'sine';
  if(type === 'correct'){
    o.frequency.setValueAtTime(880, now); // Ù†ØºÙ…Ø© Ø¹Ø§Ù„ÙŠØ© Ø®ÙÙŠÙØ©
    g.gain.setValueAtTime(0.02, now);
  } else {
    o.frequency.setValueAtTime(300, now); // Ù†ØºÙ…Ø© Ù…Ù†Ø®ÙØ¶Ø© Ø®ÙÙŠÙØ©
    g.gain.setValueAtTime(0.02, now);
  }
  o.connect(g); g.connect(audioCtx.destination);
  o.start(now);
  g.gain.exponentialRampToValueAtTime(0.0001, now + 0.12);
  o.stop(now + 0.13);
}

/* ------------------ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ùˆ Ø§Ù„Ù…Ù†Ø·Ù‚ ------------------ */
const TOTAL_SECONDS = 50 * 60;
let remainingSeconds = TOTAL_SECONDS;
let timerInterval = null;

function renderQuiz(){
  const quizDiv = document.getElementById('quiz');
  quizDiv.innerHTML = '';
  quizData.forEach((item, idx) => {
    const qdiv = document.createElement('div');
    qdiv.className = 'q';
    const qtitle = document.createElement('div');
    qtitle.innerHTML = `<strong>Ø§Ù„Ø³Ø¤Ø§Ù„ ${idx+1}:</strong> ${item.q}`;
    qdiv.appendChild(qtitle);
    const choicesDiv = document.createElement('div');
    choicesDiv.className = 'choices';
    item.choices.forEach((ch, j) => {
      const lbl = document.createElement('label');
      lbl.innerHTML = `<input type="radio" name="q${idx}" value="${j}"> ${ch}`;
      lbl.addEventListener('change', () => {
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø®ÙÙŠÙ Ø­Ø³Ø¨ Ø§Ù„ØµØ­Ø©
        if(j === item.ans) playLightTone('correct');
        else playLightTone('wrong');
      });
      choicesDiv.appendChild(lbl);
    });
    qdiv.appendChild(choicesDiv);
    quizDiv.appendChild(qdiv);
  });
}

function startTimer(onTimeout){
  clearInterval(timerInterval);
  remainingSeconds = TOTAL_SECONDS;
  const timeSpan = document.getElementById('time');
  function tick(){
    const mm = String(Math.floor(remainingSeconds/60)).padStart(2,'0');
    const ss = String(remainingSeconds%60).padStart(2,'0');
    timeSpan.textContent = mm + ':' + ss;
    if(remainingSeconds <= 0){
      clearInterval(timerInterval);
      onTimeout();
    }
    remainingSeconds--;
  }
  tick();
  timerInterval = setInterval(tick,1000);
}
function stopTimer(){ clearInterval(timerInterval); }

function gradeQuiz(){
  const studentName = document.getElementById('student-name').value || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
  const studentClass = document.getElementById('student-class').value || '-';
  let correct = 0;
  const detailsDiv = document.getElementById('details');
  detailsDiv.innerHTML = '';
  const answers = [];
  quizData.forEach((item, idx) => {
    const sel = document.querySelector(`input[name="q${idx}"]:checked`);
    const user = sel ? parseInt(sel.value) : null;
    const ok = item.ans;
    answers.push({
      question: item.q,
      chosen: user !== null ? item.choices[user] : null,
      correct: item.choices[ok],
      isCorrect: user === ok
    });
    const row = document.createElement('div');
    row.className = 'key-row';
    if(user === ok){
      correct++;
      row.innerHTML = `<strong>Ø§Ù„Ø³Ø¤Ø§Ù„ ${idx+1}:</strong> <span class="correct">ØµØ­ÙŠØ­</span> â€” Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${item.choices[user] || 'Ù„Ù… ØªØ¬Ø¨'}`;
    } else {
      row.innerHTML = `<strong>Ø§Ù„Ø³Ø¤Ø§Ù„ ${idx+1}:</strong> <span class="wrong">Ø®Ø§Ø·Ø¦</span> â€” Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${item.choices[user] || '---'} â€” Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${item.choices[ok]}`;
    }
    detailsDiv.appendChild(row);
  });

  document.getElementById('student-info').innerHTML = `<p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${studentName} â€” <strong>Ø§Ù„Ø´Ø¹Ø¨Ø©:</strong> ${studentClass}</p>`;
  document.getElementById('score').innerHTML = `<h3>Ø§Ù„Ø¯Ø±Ø¬Ø©: ${correct} / ${quizData.length}</h3>`;
  stopTimer();

  // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
  document.getElementById('page-quiz').classList.add('hidden');
  document.getElementById('page-result').classList.remove('hidden');

  // ØªØ¬Ù‡ÙŠØ² Ù…Ù„Ù Ø§Ù„ØªÙ†Ø²ÙŠÙ„ (JSON)
  const report = { name: studentName, class: studentClass, score: `${correct}/${quizData.length}`, answers: answers, timeLeft: document.getElementById('time').textContent };
  document.getElementById('download').onclick = function(){
    const blob = new Blob([JSON.stringify(report, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    const safeName = (studentName||'student').replace(/\s+/g,'_');
    a.download = `result_${safeName}.json`;
    a.click();
    URL.revokeObjectURL(url);
  };
}

/* ------------------ Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø± ------------------ */
document.getElementById('start-btn').addEventListener('click', () => {
  const name = document.getElementById('student-name').value.trim();
  const cls = document.getElementById('student-class').value;
  if(!name || !cls){ alert('Ø±Ø¬Ø§Ø¡Ù‹ Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ø®ØªØ± Ø§Ù„Ø´Ø¹Ø¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡.'); return; }
  // Ø¥Ø¸Ù‡Ø§Ø± ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
  document.getElementById('page-student').classList.add('hidden');
  document.getElementById('page-quiz').classList.remove('hidden');
  renderQuiz();
  startTimer(() => {
    alert('Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª. Ø³ÙŠØªÙ… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù†.');
    gradeQuiz();
  });
  // ØªÙ‡ÙŠØ¦Ø© ØµÙˆØª Ù…Ø¨ÙƒØ±Ù‹Ø§ (Ù„ØªÙ‚Ù„ÙŠÙ„ ØªØ£Ø®ÙŠØ± Ø§Ù„ØªØ´ØºÙŠÙ„ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
  ensureAudioCtx();
});

document.getElementById('submit').addEventListener('click', () => {
  if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù†ØŸ')) gradeQuiz();
});
document.getElementById('finish-early').addEventListener('click', () => {
  if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù† ÙˆØªÙ‚ÙŠÙŠÙ…Ù‡ØŸ')) gradeQuiz();
});
document.getElementById('retry').addEventListener('click', () => {
  // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª
  document.getElementById('page-result').classList.add('hidden');
  document.getElementById('page-student').classList.remove('hidden');
  const inputs = document.querySelectorAll('input[type="radio"]');
  inputs.forEach(i => i.checked = false);
  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø¤Ù‚Øª
  stopTimer();
});
</script>
</body>
</html>
